# 目录



1.判断两对象是否相等时，使用Objects.equals(a, b)方法，避免空指针异常。

2.遍历Map时，如果需要使用value，使用entrySet遍历。

3.集合类指定初始长度，可避免多次扩容带来的消耗

4.循环体内不要使用"+"进行字符串拼接，使用StringBuilder进行append

5.POJO中Boolean类型的变量都不要加is，部分框架解析时会引起序列化错误

> 定义为基本数据类型 Boolean isSuccess的属性，它的方法也是 isSuccess()。 RPC框架在反向解析的时候， “以为”对应的属性名称是 success，导致属性获取不到。

6.java基本数据类型有默认值，注意使用boolean类型默认值为false的坑。

7.POJO类属性使用包装数据类型，基本数据类型都有默认值，默认值本身可能就代码一定的含义。

8.不要在for循环里面写查询语句，数据量多的时候会多出很多连接耗时

9.代码空行注意规范，禁止随意空行。不同逻辑间要适当的空行。

10.接口入参及外部接口返回参数处需要添加日志，其余地方不要随意添加日志（避免目前项目中日志量多，且外部接口高频率问题点无日志难以排查问题）

11.业务类的状态码一定要建立相应枚举，禁止直接出现1,2,3,4...

12.BigDecimal不可变性的坑。BigDecimal和String一样具有不可变性，在做运算时一定要保存结果。

13.不允许未经定义的常量直接出现在代码中。（例如查某些状态的订单这个糟心点）

14.代码模块注意细化功能来分类，不要一个service容纳所有。常量类也要根据功能自己进行分类，分开维护。

15.使用工具类 Arrays.asList()把数组转换成集合时，不能进行增删。

> 想使用的话再转一下如：new ArrayList<>(Arrays.asList(111, 222));

16.除常用方法（如 getXxx/isXxx）等外，不要在条件判断中执行其它复杂的语句，将复杂逻辑判断的结果赋值给一个有意义的布尔变量，以提高可读性。

17.不能在 finally 块中使用 return， finally 块中的 return 返回后方法结束执行，不会再执行 try 块中的 return 语句。

18.Service/Dao层方法命名规约

+ 1） 获取单个对象的方法用 get 做前缀。 

+ 2） 获取多个对象的方法用 list 做前缀。 

+ 3） 获取统计值的方法用 count 做前缀。 

+ 4） 插入的方法用 save/insert 做前缀。 

+ 5） 删除的方法用 remove/delete 做前缀。 

+ 6） 修改的方法用 update 做前缀。

19.数据库表必备三字段：id, gmt_create, gmt_modified

20.SQL 性能优化的目标：至少要达到 range 级别，多用explain查看执行计划。
